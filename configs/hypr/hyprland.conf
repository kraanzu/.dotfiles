# Basic settings
general {
    layout = master
    gaps_in = 4
    gaps_out = 4
    border_size = 3
    col.active_border = rgb(88c0d0)
    col.inactive_border = rgba(88c0d000)
}
decoration {
    rounding = 0
}
animations {
    enabled = false
}
master {
    mfact = 1.0
    new_status = master
}

# Workspaces
workspace = 1, persistent:true
workspace = 2, persistent:true
workspace = 3, persistent:true
workspace = 4, persistent:true
workspace = 5, persistent:true
workspace = 6, persistent:true
workspace = special:scratch, on-created-empty:[float; size 85% 85%; move 7.5% 0%] wezterm-gui

# Supress screen sharing widget
windowrulev2 = suppressevent fullscreen, title:^(.* is sharing your screen\.)$
windowrulev2 = suppressevent activate, title:^(.* is sharing your screen\.)$
windowrulev2 = noinitialfocus, title:^(.* is sharing your screen\.)$
windowrulev2 = workspace special:hidden silent, title:^(.* is sharing your screen\.)$
windowrulev2 = opacity 0, title:^(.* is sharing your screen\.)$

# Window Management
bind = SUPER, Q, killactive
bind = SUPER, M, fullscreen, 1
bind = SUPER SHIFT, F, togglefloating

# Launch bindings
bind = SUPER, Return, exec, wezterm-gui connect unix --workspace main
bind = ALT, Return, exec, wezterm-gui connect unix --workspace extra
bind = SUPER, S, togglespecialworkspace, scratch

bind = SUPER SHIFT, Return, exec, rofi -show drun
bind = SUPER SHIFT, O, exec, rofi-audio-switcher
bind = SUPER SHIFT, N, exec, rofi-network-switcher
bind = SUPER SHIFT, B, exec, rofi-bluetooth
bind = SUPER SHIFT, Q, exec, rofi -show power-menu
bind = SUPER SHIFT, P, exec, cliphist list | cut -d$'\t' -f2- | rofi -dmenu | cliphist decode | wl-copy

# Volume controls
bindl = SUPER, Up, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.05+
bindl = SUPER, Down, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.05-
bindl = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.05+
bindl = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.05-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Monitor brightness
bindl = SUPER, Home, exec, ddcutil setvcp 10 + 5
bindl = SUPER, End, exec, ddcutil setvcp 10 - 5

# Focus
bind = SUPER, SPACE, cyclenext
bind = SUPER, SPACE, layoutmsg, swapwithmaster auto

# Workspace navigation and moving (Qtile style wrap-around)
bind = SUPER, Right, exec, hyprctl dispatch workspace $((($(hyprctl activeworkspace -j | jq -r '.id') % 6) + 1))
bind = SUPER, Left, exec, hyprctl dispatch workspace $((($(hyprctl activeworkspace -j | jq -r '.id') - 2 + 6) % 6 + 1))
bind = SUPER SHIFT, Right, movetoworkspace, +1
bind = SUPER SHIFT, Left, movetoworkspace, -1
bind = SUPER, Tab, workspace, previous

# Workspace switching
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6

# Extras
bind = SUPER, Insert, exec, flameshot gui
bind = CTRL ALT, Delete, exit
bind = SUPER, ESCAPE, exec, hyprlock

# Moving windows
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# Startup
exec-once = hyprpaper
exec-once = hypridle
exec-once = wlsunset -t 5500
exec-once = wezterm-mux-server --daemonize
exec-once = caffeine
exec-once = syncthing --no-browser
exec-once = Telegram -startintray
exec-once = discord --start-minimized
exec-once = systemctl --user import-environment PATH && systemctl --user restart xdg-desktop-portal.service
exec-once = wl-paste --watch cliphist store
exec-once = pkill waybar; waybar
